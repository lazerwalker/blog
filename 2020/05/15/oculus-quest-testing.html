<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <title>
    How to easily test your WebVR and WebXR projects locally on your Oculus Quest
  </title>
  <meta name="description" content="Emilia is a Toronto-based game designer, conceptual artist, and software engineer.
" />

  <link
    href="/atom.xml"
    rel="alternate"
    title="Em Lazer-Walker"
    type="application/atom+xml"
  />

  <link rel="stylesheet" href="/css/main.css">
  <link
    rel="canonical"
    href="https://blog.lazerwalker.com/2020/05/15/oculus-quest-testing.html"
  />
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-STKNZZJ7SW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-STKNZZJ7SW');
  </script>

<meta content="Emilia Lazer-Walker" property="og:site_name">

  <meta content="How to easily test your WebVR and WebXR projects locally on your Oculus Quest" property="og:title">


  <meta content="article" property="og:type">


  <meta content="Emilia is a Toronto-based game designer, conceptual artist, and software engineer.
" property="og:description">


  <meta content="https://blog.lazerwalker.com/2020/05/15/oculus-quest-testing.html" property="og:url">


  <meta content="2020-05-15T12:00:00+00:00" property="article:published_time">
  <meta content="https://blog.lazerwalker.com/about/" property="article:author">


  <meta content="https://blog.lazerwalker.com/opengraph/c40c267baa85802345a892f0769cfe91479aaf5448152a24eb4b7ed2fc9816d1.png" property="og:image">
  <meta name="twitter:image" content="https://blog.lazerwalker.com/opengraph/c40c267baa85802345a892f0769cfe91479aaf5448152a24eb4b7ed2fc9816d1.png" />
  <meta name="twitter:card" content="summary_large_image" />



  


  


<meta
  name="twitter:site"
  content="@lazerwalker"
/>
<meta
  name="twitter:creator"
  content="@"
/>
<meta name="twitter:title" content="How to easily test your WebVR and WebXR projects locally on your Oculus Quest " />
<meta
  name="twitter:description"
  content="  "
/>

 
<meta
  name="twitter:description"
  content="Emilia is a Toronto-based game designer, conceptual artist, and software engineer.
"
/>

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Emilia Lazer-Walker</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">How to easily test your WebVR and WebXR projects locally on your Oculus Quest</h1>
    <p class="post-meta">May 15, 2020</p>
  </header>

  <article class="post-content">
    <p>Lately, I’ve been spending a lot of time prototyping VR games using <a href="https://babylonjs.com/">Babylon.js</a>. I love how technologies like Babylon and the WebXR API let me build VR experiences with the quick iteration time of modern web dev, rather than the slower compilation loop of something like Unity.</p>

<p>That said, until recently there was one part of my development work flow that annoyed the heck out of me!</p>

<p>I do most of my testing on an Oculus Quest, and development on a Mac. Both the WebVR and WebXR APIs require that you access them from a webpage being served over HTTPS, rather than non-secure HTTP, with most browsers adding an exception for <code class="language-plaintext highlighter-rouge">localhost</code>.</p>

<p>Because I’m on a Mac, I can’t set up my Oculus Quest via Quest Link to act like a desktop headset connected to my computer. There also isn’t really a way to set up a local desktop computer to properly serve files over SSL / HTTPS.</p>

<p>This leads to a hard question: how the heck do you actually test your game locally on an Oculus Quest?</p>

<p>A lot of the time, this isn’t an issue. I can test in a 2D browser on my dev machine. If I need motion controllers, I can push my working code to a remote server to load from the Quest, or I can use something like <a href="https://ngrok.io/">Ngrok</a> to get an HTTPS URL that redirects to my local machine.</p>

<p>But all of these feel like hacks, and make it slower for me to test what I’m working on. Which sucks when one of the big appeals of WebXR is how fast your iteration loop can be!</p>

<p>It turns out it’s pretty straight forward to get a more functioning workflow. I’m going to walk you through setting up your Quest for development as an Android device, and then configure Android port forwarding so that you can access a web server hosted on your computer as <code class="language-plaintext highlighter-rouge">localhost</code> from your Quest, letting it properly enter WebVR or WebXR mode.</p>

<h2 id="setting-up-your-quest-for-development">Setting up your Quest for development</h2>
<p>Although we’re interested in using an Oculus Quest to build web-based content, rather than building natively using something like Unity, you still need to set it up for development as if that’s what you’re doing.</p>

<p>Follow the instructions on the Oculus support site to <a href="https://developer.oculus.com/documentation/native/android/mobile-device-setup/">set up a Quest for development</a>. You’ll need to create a development organization to add your Oculus account to, and then enable Developer Mode in your Quest’s settings or in the Oculus app on your phone.</p>

<h2 id="install-the-android-sdk-platform-tools-on-your-computer">Install the Android SDK Platform Tools on your computer</h2>
<p>At this point, your Oculus Quest is able to enter development mode, which means most Android software development tools can talk to it.
We specifically want to use the <code class="language-plaintext highlighter-rouge">adb</code> (Android Debug Bridge) CLI tool , which gives us the ability to interact with the Quest in a bunch of helpful ways.</p>

<p>You can get <code class="language-plaintext highlighter-rouge">adb</code> by downloading and installing the <a href="https://developer.android.com/studio/releases/platform-tools">Android SDK Platform Tools</a>. If you’re on a Mac and use Homebrew, you can also install it by running <code class="language-plaintext highlighter-rouge">brew cask install android-platform-tools</code>.</p>

<p>Either way, hopefully after installing the Platform Tools you should be able to run <code class="language-plaintext highlighter-rouge">adb</code> at a command line and see a whole bunch of documentation.</p>

<h1 id="connect-your-oculus-quest-to-your-computer">Connect your Oculus Quest to your computer</h1>
<p>You can use any USB-C cable, including the charging cable that comes with the Quest.</p>

<p>You’ll need to put the Quest on and accept a prompt to allow the computer to connect with it. I highly recommend checking the checkbox that skips this prompt in the future.</p>

<p>Once that’s done, run <code class="language-plaintext highlighter-rouge">adb devices</code> from the command prompt. You should see your Quest as the only device.</p>

<p>If multiple Android devices show up in that list (e.g. you have other Android devices plugged in with developer mode on), take note of the device ID that appears in the first column. When you run the <code class="language-plaintext highlighter-rouge">adb reverse</code> command in the next step, add in <code class="language-plaintext highlighter-rouge">-s DeviceId</code> as a flag to the command to specify you’re targetting the Quest.</p>

<h2 id="enable-port-forwarding">Enable port forwarding</h2>
<p>Conceptually, what we want is simple. Any time you browse to a given local port on your Quest (e.g. <code class="language-plaintext highlighter-rouge">http://localhost:1234</code>), we want to forward that to a port on your computer. Fortunately, <code class="language-plaintext highlighter-rouge">adb</code> has built-in support to do this sort of port forwarding!</p>

<p>I’m assuming you already have a local web server on your computer that’s serving your WebVR or WebXR project. Note what port that is running on. As an example, my project setup tends to run a server on port 3000, or <code class="language-plaintext highlighter-rouge">http://localhost:3000</code>.</p>

<p>Within <code class="language-plaintext highlighter-rouge">adb</code>, what we’re doing is called “reverse port forwarding”. Regular port forwarding means we would be forwarding a port from our computer to a port on the Quest. But we’re trying to do the opposite — route from one port on your Quest’s localhost back to one on your computer — so that’s considered “reverse” forwarding.</p>

<p>If you know what port you need to forward, you just need to run <code class="language-plaintext highlighter-rouge">adb reverse tcp:PORT tcp:PORT</code> and <code class="language-plaintext highlighter-rouge">adb</code> will take care of the rest. For my server running on port 3000, for example, <code class="language-plaintext highlighter-rouge">adb reverse tcp:3000 tcp:3000</code> connects things properly so that going to <code class="language-plaintext highlighter-rouge">http://localhost:3000</code> in the Oculus Browser (or Firefox Reality) properly routes to the web server running on my computer, and should allow for entering VR mode.</p>

<p>You can safely close your command prompt and forget about <code class="language-plaintext highlighter-rouge">adb</code> for the rest of your test session, although you’ll need to rerun <code class="language-plaintext highlighter-rouge">adb reverse</code> the next time you disconnect and connect your Quest.</p>

<h2 id="go-make-cool-things">Go make cool things!</h2>
<p>And that’s all there is to it!</p>

<p>It’s theoretically possible to set this up to work wirelessly, but in practice I wasn’t able to get it to work. <code class="language-plaintext highlighter-rouge">adb</code> can successfully connect to my Quest over WiFi, but <code class="language-plaintext highlighter-rouge">adb reverse</code> doesn’t work. There have historically been issues with <code class="language-plaintext highlighter-rouge">adb reverse</code> and WiFi connections; it seems like they may have been solved in recent versions of Android, but (at the time of writing) Facebook’s fork of Android may not have pulled in those fixes yet. Let me know if you manage to get WiFi working!</p>

<p>In any case, you should now be able to debug your web VR projects on-device without needing a desktop HMD or deploying your code to a server! I hope that wasn’t too painful to set up, and I hope this little trick can help improve your daily development workflow as much as it did for me.</p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Emilia Lazer-Walker</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Emilia Lazer-Walker</li>
          <li><a href="mailto:blog@lazerwalker.com">blog@lazerwalker.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/lazerwalker">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">lazerwalker</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/lazerwalker">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">lazerwalker</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Emilia is a Toronto-based game designer, conceptual artist, and software engineer.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
